<!DOCTYPE html>
<html>
    <style type="text/css">
        .botao {
            margin: 0.5vh;
            width: 5vh;
            height: 5vh;
            font-size: 3vh;
            text-align: center;
            padding: 0;
        }
        .botao:hover{
            background-color: white;
        }
        #igual{
            border-width: 1px;
            border-radius: 10%;
            background-color: orange;
        }
        #igual:hover{
            border-radius: 0%;
            border-width: 2px;
            border-color: slategray;
            background-color:gold;
        }
        #resultado{
            margin: 0.75vh;
            width: 31vh;
            height: 5vh;
            text-align: right;
            font-size: 4vh;
            line-height: 0;
        }
        #envolta{
            position: absolute;
            background-color: black;
            padding: 15px;
            border-radius: 10%;
        }
        #nome{
            color: white;
            margin: 0.5vh;
            font-size: 3vh;
            font-family: Arial, Helvetica, sans-serif;
        }
    </style>

    <head>
        <meta charset="UTF-8">
        <title>Calculadora do André</title>

    </head>

    <body>
        <section id="envolta">
            <h1 id="nome">Calculadora</h1>
            <input type="text" name="valor" id="resultado">
    
            <table style="border: none;">
                <tr>
                    <td><button class="botao" onclick="inserir('7')">7</button></td>
                    <td><button class="botao" onclick="inserir('8')">8</button></td>
                    <td><button class="botao" onclick="inserir('9')">9</button></td>
                    <td><button class="botao" onclick="operadores('/')" id="/">/</button></td>
                    <td><button class="botao" onclick="limpar()">C</button></td>
                </tr>
                <tr>
                    <td><button class="botao" onclick="inserir('4')">4</button></td>
                    <td><button class="botao" onclick="inserir('5')">5</button></td>
                    <td><button class="botao" onclick="inserir('6')">6</button></td>
                    <td><button class="botao" onclick="operadores('*')" id="*">x</button></td>
                    <td><button class="botao" onclick="apagar()"><</button></td>
                </tr>
                <tr>
                    <td><button class="botao" onclick="inserir('1')">1</button></td>
                    <td><button class="botao" onclick="inserir('2')">2</button></td>
                    <td><button class="botao" onclick="inserir('3')">3</button></td>
                    <td><button class="botao" onclick="operadores('-')" id="-">-</button></td>
                    <td><button class="botao" onclick="raiz('√')" id='√'>√</button></td>
                </tr>
                <tr>
                    <td><button class="botao" onclick="inserir('0')">0</button></td>
                    <td><button class="botao" onclick="inserir('00')">00</button></td>
                    <td><button class="botao" onclick="ponto('.')" id=".">.</button></td>
                    <td><button class="botao" onclick="operadores('+')" id="+">+</button></td>
                    <td><button class="botao" onclick="igual()" id="igual">=</button></td>
                </tr>
            </table>
        </section>
    </body>    
</html>



<script>
let numero = document.getElementById('resultado').value;
let algarismos = numero.toString().length;
let elementos=['.','+','-','*','/'];

// JSON - Javascript Object Notation

// var obj = {
//     'var1': 7,
//     'var2': 14,
//     result: 0,
//     elementos: ['.','+','-','*','/','√'],

//     add:  function() {
//         this.result = this.var1 + this.var2;
//     },

//     multiplicar:  function() {
//         this.result = this.var1 * this.var2;
//     },

//     printElements: function() {
//         this.elementos.forEach(
//             function(item, index){
//                 console.log(index + ' ' + item);
//             }
//         );
//     },

//     getVar1: function(){
//         return this.var1;
//     },

//     setVar1: function(v1) {
//         this.var1 = v1;
//     },

//     getVar2: function(){
//         return this.var2;
//     },

//     setVar2: function(v2) {
//         this.var2 = v2;
//     }
// }

// obj.printElements();

// // adicionar1e1(obj);

// function adicionar1e1(x){
//     x.var1 = 1;
//     x.var2 = 1;

//     x.add();
//     console.log(x.result);
// }


function inserir(number) {
    // Ctrl + ;
    // x = 'css';
    // y = ['css', 'java', 'vba', 'html'];
    
    // for (i = 0; i < y.length; i++ ) {
    //     z = x == y[i];
    //     if(z){
    //         console.log('Hello '+i);
    //     }
    // }  

    numero = document.getElementById('resultado').value;
    document.getElementById('resultado').value = numero + number;
    for (i=0; i < elementos.length; i++){
        document.getElementById(elementos[i]).disabled = false;
    }

    numero = document.getElementById('resultado').value;
    algarismos = numero.toString().length;
    if (numero == 0 & algarismos > 1 & numero != ""){
        limpar();
        document.getElementById('resultado').value = 0;
    }
    for (i=0; i < elementos.length; i++){
        if (numero == elementos[i] & numero != ""){
        limpar();
        }
    }
}

function operadores(operador){
    console.log("vamo lá")
    numero = document.getElementById('resultado').value;
    document.getElementById('resultado').value = numero + operador;
    numero = document.getElementById('resultado').value;
    for (i=0; i < elementos.length; i++){
        if (numero == elementos[i]){
            limpar();
        }
    }
    if (numero != '' & operador != ''){
     for (i=0; i < elementos.length; i++){
        document.getElementById(elementos[i]).disabled = true;
    }   
    }
}

function raiz(){
    numero = document.getElementById('resultado').value;
    document.getElementById('resultado').value = numero + '√';
    numero = document.getElementById('resultado').value;
    let raiz_quadrada = true;
}

function ponto(){
    numero = document.getElementById('resultado').value;
    document.getElementById('resultado').value = numero + '.';
    numero = document.getElementById('resultado').value;
    for (i=0; i < elementos.length; i++){
        if (numero == elementos[i] & numero != ""){
        limpar();
        }
        else
        document.getElementById('.').disabled = true;
    }
    
}

function limpar(){
    document.getElementById('resultado').value = "";
    for (i=0; i < elementos.length; i++){
        document.getElementById(elementos[i]).disabled = false;
    }
}

function apagar(){
    numero = document.getElementById('resultado').value;
    let numero_string = `${numero}`;
    document.getElementById('resultado').value = numero_string.substring(0, numero_string.length - 1);
}

function igual(){
    numero = document.getElementById('resultado').value;
    if(numero){
        document.getElementById('resultado').value = eval(numero);
    }
    if(raiz_quadrada = true){

    }
}

</script>